<!doctype html>
<html>
<head>
<title>Simpson Index</title>
</head>
<style>
body {
    font-family: sans-serif;
}
.label {
    width: 50px;
    float: left;
    text-align: center;
}
.square {
    width: 50px;
    height: 50px;
    border: 1px solid white;
    float: left;
}
</style>
<body>
<h1>Simpson Index</h1>
<h3 id="result">0</h3>
<input id="newcolor" type="button" value="New Group" onClick="new_color()" />
<div id="colors">
</div>
<script>
var id = 0;

var colors = [
    "#ff0000", "#00ff00", "#0000ff", "#ffff00", "#ff00ff", "#00ffff",
    "#7f7fff", "#7fff7f", "#ff7f7f",
    "#007fff", "#00ff7f", "#7f00ff", "#7fff00", "#ff007f", "#ff7f00",
    "#00007f", "#007f00", "#7f0000", "#007f7f", "#7f007f", "#7f7f00",
];

var count = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];

function new_color() {
    var c = document.getElementById("colors");
    var id_label = "zzz" + String(id);

    var s = document.createElement("div");
    s.classList.add("label");
    s.id = id_label;
    s.style.backgroundColor = "#ffffff";
    s.style.color = colors[id];
    s.innerHTML = "add";
    s.onclick = (function (d, i) {
	return function() {
	    var n = document.createElement("div");
	    n.classList.add("square");
	    n.style.backgroundColor = colors[i];
	    d.appendChild(n);
	    ++count[i];
	    document.getElementById("result").innerHTML = count[i];
	};
    })(s, id);

    var o = document.createElement("div");
    o.style = "float:none";
    o.appendChild(s);
    c.appendChild(o);

    ++id;
    if (id >= colors.length) {
	document.getElementById("newcolor").disabled = true;
    }
}
</script>
</body>
</html>
